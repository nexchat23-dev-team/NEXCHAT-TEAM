<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>â˜„ï¸ NEXCHAT Admin Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="admin-dashboard.css">
</head>
<body>

<div class="admin-container">
  
  <!-- Admin Header -->
  <header class="admin-header">
    <div class="header-content">
      <button id="backBtn" class="back-to-app-btn" title="Back to NEXCHAT">â† Back to NEXCHAT</button>
      <h1>â˜„ï¸ NEXCHAT Admin Dashboard</h1>
      <div class="header-info">
        <span id="adminName" class="admin-user">Admin</span>
        <button id="logoutBtn" class="logout-btn">ğŸšª Logout</button>
      </div>
    </div>
  </header>

  <!-- Admin Navigation -->
  <nav class="admin-nav">
    <button class="nav-btn active" data-tab="overview">ğŸ“Š Overview</button>
    <button class="nav-btn" data-tab="users">ğŸ‘¥ Users</button>
    <button class="nav-btn" data-tab="analytics">ğŸ“ˆ Analytics</button>
    <button class="nav-btn" data-tab="gmail">ğŸ“§ Gmail Users</button>
    <button class="nav-btn" data-tab="messages">ğŸ’¬ Messages</button>
    <button class="nav-btn" data-tab="watchReels">ğŸ‘ï¸ Watch Reels</button>
    <button class="nav-btn" data-tab="postReels">ğŸ¬ Post Reels</button>
    <button class="nav-btn" data-tab="videos">ğŸ¬ NEX-REELS</button>
    <button class="nav-btn" data-tab="reports">ğŸ“‹ Reports</button>
    <button class="nav-btn" data-tab="blocked">ğŸš« Blocked Users</button>
    <button class="nav-btn" data-tab="admins">ğŸ‘‘ Manage Admins</button>
    <button class="nav-btn" data-tab="groupchats">ğŸ‘¥ Group Chats</button>
    <button class="nav-btn" data-tab="tokens">ğŸ’° Token Minting</button>
    <button class="nav-btn" data-tab="settings">âš™ï¸ Settings</button>
    <a href="firestore_status.html" class="nav-btn" style="text-decoration: none; display: inline-block; background: linear-gradient(135deg, #ff9600, #ff6666); border: 2px solid #ff9600;">ğŸ”¥ Firestore Status</a>
    <a href="button_tester.html" class="nav-btn" style="text-decoration: none; display: inline-block; background: linear-gradient(135deg, #00d4ff, #00ff66); border: 2px solid #00d4ff;">ğŸ§ª Button Tester</a>
  </nav>

  <!-- Admin Content -->
  <main class="admin-content">

    <!-- OVERVIEW TAB -->
    <section id="overview" class="tab-content active">
      <h2>Dashboard Overview</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">ğŸ‘¥</div>
          <div class="stat-info">
            <span class="stat-label">Total Users</span>
            <span id="totalUsers" class="stat-value">0</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ï¿½</div>
          <div class="stat-info">
            <span class="stat-label">Total Messages</span>
            <span id="totalMessages" class="stat-value">0</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ¬</div>
          <div class="stat-info">
            <span class="stat-label">NEX-REELS Videos</span>
            <span id="totalVideos" class="stat-value">0</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ“‹</div>
          <div class="stat-info">
            <span class="stat-label">Pending Reports</span>
            <span id="pendingReports" class="stat-value">0</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸš«</div>
          <div class="stat-info">
            <span class="stat-label">Blocked Users</span>
            <span id="blockedCount" class="stat-value">0</span>
          </div>
        </div>
      </div>
    </section>

    <!-- ANALYTICS TAB -->
    <section id="analytics" class="tab-content">
      <h2>ğŸ“ˆ User Analytics & Tracking</h2>
      <div class="analytics-container">
        <!-- Platform Analytics -->
        <div class="analytics-section">
          <h3>ğŸŒ Platform Analytics</h3>
          <div class="analytics-grid">
            <div class="analytics-card">
              <div class="analytics-icon">ğŸ‘¥</div>
              <div class="analytics-label">Total Users</div>
              <div class="analytics-value" id="analyticsTotal Users">0</div>
            </div>
            <div class="analytics-card">
              <div class="analytics-icon">âœ¨</div>
              <div class="analytics-label">New Users (24h)</div>
              <div class="analytics-value" id="analyticsDailyNewUsers">0</div>
            </div>
            <div class="analytics-card">
              <div class="analytics-icon">ğŸ”¥</div>
              <div class="analytics-label">Active (24h)</div>
              <div class="analytics-value" id="analyticsActiveUsers">0</div>
            </div>
            <div class="analytics-card">
              <div class="analytics-icon">ğŸ’¬</div>
              <div class="analytics-label">Total Messages</div>
              <div class="analytics-value" id="analyticsTotalMessages">0</div>
            </div>
            <div class="analytics-card">
              <div class="analytics-icon">ğŸ¬</div>
              <div class="analytics-label">Total Videos</div>
              <div class="analytics-value" id="analyticsTotalVideos">0</div>
            </div>
            <div class="analytics-card">
              <div class="analytics-icon">ğŸ‘ï¸</div>
              <div class="analytics-label">Total Views</div>
              <div class="analytics-value" id="analyticsTotalViews">0</div>
            </div>
          </div>
        </div>

        <!-- User Search & Stats -->
        <div class="analytics-section">
          <h3>ğŸ” User Detailed Analytics</h3>
          <div class="search-box" style="margin-bottom: 20px;">
            <input type="text" id="analyticsUserSearch" placeholder="Search user by UID, email, or username..." class="search-input">
            <button id="analyticsSearchBtn" class="search-btn">ğŸ” Search</button>
          </div>
          
          <div id="analyticsUserResult" style="display: none; background: rgba(0, 255, 102, 0.05); border: 1px solid #00ff66; padding: 20px; border-radius: 8px; margin-top: 15px;">
            <div id="userStatsContent"></div>
          </div>
        </div>

        <!-- Activity Tracking -->
        <div class="analytics-section">
          <h3>ğŸ“Š Activity Tracking Status</h3>
          <div class="tracking-status">
            <div class="tracking-item">
              <span class="tracking-label">âœ… User Registration Tracking</span>
              <span class="tracking-status-badge active">Active</span>
            </div>
            <div class="tracking-item">
              <span class="tracking-label">âœ… Message Activity Tracking</span>
              <span class="tracking-status-badge active">Active</span>
            </div>
            <div class="tracking-item">
              <span class="tracking-label">âœ… Video Upload Tracking</span>
              <span class="tracking-status-badge active">Active</span>
            </div>
            <div class="tracking-item">
              <span class="tracking-label">âœ… Video Engagement Tracking</span>
              <span class="tracking-status-badge active">Active</span>
            </div>
            <div class="tracking-item">
              <span class="tracking-label">âœ… User Activity Logging</span>
              <span class="tracking-status-badge active">Active</span>
            </div>
          </div>
        </div>

        <!-- Real-time Updates -->
        <div class="analytics-section">
          <h3>ğŸ”„ Auto-Refresh Analytics</h3>
          <button id="refreshAnalyticsBtn" class="refresh-analytics-btn">ğŸ”„ Refresh Now</button>
          <p style="color: #888; font-size: 0.9rem; margin-top: 10px;">Analytics update automatically every 30 seconds</p>
        </div>
      </div>
    </section>

    <!-- USERS TAB -->
    <section id="users" class="tab-content">
      <h2>User Management</h2>
      <div class="search-box">
        <input type="text" id="userSearch" placeholder="Search users by username or email..." class="search-input">
        <button class="search-btn">ğŸ”</button>
      </div>
      <div class="users-table-container">
        <table class="users-table">
          <thead>
            <tr>
              <th>Profile</th>
              <th>Username</th>
              <th>Email</th>
              <th>Status</th>
              <th>Joined</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="usersTableBody">
            <tr class="loading">
              <td colspan="6">Loading users...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- GMAIL USERS TAB -->
    <section id="gmail" class="tab-content">
      <h2>ğŸ“§ Gmail Users</h2>
      <div class="search-box">
        <input type="text" id="gmailSearch" placeholder="Search Gmail users..." class="search-input">
        <button class="search-btn">ğŸ”</button>
      </div>
      <div class="gmail-stats">
        <div class="stat-card">
          <span class="stat-label">Total Gmail Users</span>
          <span id="totalGmailUsers" class="stat-value">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Gmail Users Online</span>
          <span id="gmailUsersOnline" class="stat-value">0</span>
        </div>
      </div>
      <div class="gmail-users-container">
        <table class="users-table">
          <thead>
            <tr>
              <th>Profile</th>
              <th>Username</th>
              <th>Gmail Email</th>
              <th>Status</th>
              <th>Last Login</th>
              <th>Joined</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="gmailUsersTableBody">
            <tr class="loading"><td colspan="7">Loading Gmail users...</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- MESSAGES TAB -->
    <section id="messages" class="tab-content">
      <h2>NEXCHAT Messages</h2>
      <div class="search-box">
        <input type="text" id="messageSearch" placeholder="Search messages..." class="search-input">
        <button class="search-btn">ğŸ”</button>
      </div>
      <div class="messages-stats">
        <div class="stat-card">
          <span class="stat-label">Avg Daily Messages</span>
          <span id="avgMessages" class="stat-value">0</span>
        </div>
      </div>
    </section>

    <!-- WATCH REELS TAB -->
    <section id="watchReels" class="tab-content">
      <h2>ğŸ‘ï¸ Watch Reels</h2>
      <p style="color: #00ff66; margin-bottom: 20px;">Browse and view all uploaded reels from users.</p>
      <div class="filter-box">
        <select id="reelsFilter" class="filter-select">
          <option value="all">All Reels</option>
          <option value="trending">Trending</option>
          <option value="newest">Newest First</option>
          <option value="mostLiked">Most Liked</option>
        </select>
        <button class="search-btn" id="refreshReelsBtn">ğŸ”„ Refresh</button>
        <button class="search-btn" onclick="window.open('../NEXCHAT/chat.html#reels', '_blank')" style="background: #00ff66; color: #000;">ğŸš€ Open Reels App</button>
      </div>
      
      <div class="reels-stats">
        <div class="stat-card">
          <span class="stat-label">Total Reels</span>
          <span id="totalReels" class="stat-value">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Total Views</span>
          <span id="reelsViews" class="stat-value">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Total Likes</span>
          <span id="reelsLikes" class="stat-value">0</span>
        </div>
      </div>

      <div class="reels-feed" id="reelsFeed">
        <div class="loading-message">Loading reels...</div>
      </div>
    </section>

    <!-- POST REELS TAB -->
    <section id="postReels" class="tab-content">
      <h2>ğŸ¬ Post Reels</h2>
      <p style="color: #00ff66; margin-bottom: 20px;">Upload and manage your own reels as admin.</p>
      
      <div class="upload-reels-container">
        <div class="upload-form">
          <div class="form-group">
            <label>Reel Title</label>
            <input type="text" id="adminReelTitle" placeholder="Enter reel title..." maxlength="100">
          </div>

          <div class="form-group">
            <label>Description</label>
            <textarea id="adminReelDescription" placeholder="Describe your reel..." maxlength="500" rows="3"></textarea>
          </div>

          <div class="form-group">
            <label>Video File</label>
            <input type="file" id="adminVideoFile" accept="video/*">
            <small style="color: #888;">Max 500MB - Supported: MP4, WebM, Ogg</small>
          </div>

          <div class="form-group">
            <label>Thumbnail (Optional)</label>
            <input type="file" id="adminVideoThumbnail" accept="image/*">
            <small style="color: #888;">Max 5MB - Supported: JPG, PNG</small>
          </div>

          <div id="uploadPreview" style="margin: 15px 0; display: none;">
            <div style="color: #00ff66; margin-bottom: 10px;">ğŸ“¹ Preview:</div>
            <video id="adminVideoPreview" style="max-width: 300px; max-height: 400px; border: 1px solid #00ff66; border-radius: 8px;"></video>
          </div>

          <button id="publishReelBtn" class="publish-btn" style="background: #00ff66; color: #000; padding: 12px 24px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 15px;">ğŸš€ Publish Reel</button>
          <div id="uploadStatus" style="margin-top: 15px; padding: 10px; border-radius: 6px; display: none; text-align: center;"></div>
        </div>
      </div>

      <div style="margin-top: 30px;">
        <h3 style="color: #00ff66; margin-bottom: 15px;">ğŸ“Š Your Reels Stats</h3>
        <div class="admin-reels-list">
          <div class="loading-message">Loading your reels...</div>
        </div>
      </div>
    </section>
    <section id="videos" class="tab-content">
      <h2>ğŸ¬ NEX-REELS Video Monitoring</h2>
      <div class="filter-box">
        <select id="videoFilter" class="filter-select">
          <option value="all">All Videos</option>
          <option value="trending">Trending</option>
          <option value="flagged">Flagged Content</option>
          <option value="recent">Recent Uploads</option>
        </select>
        <button class="search-btn" id="refreshVideosBtn">ğŸ”„ Refresh</button>
      </div>
      
      <div class="videos-stats">
        <div class="stat-card">
          <span class="stat-label">Total Videos</span>
          <span id="videoStats" class="stat-value">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Flagged Videos</span>
          <span id="flaggedVideos" class="stat-value">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Total Views</span>
          <span id="totalViews" class="stat-value">0</span>
        </div>
      </div>

      <div class="videos-container" id="videosContainer">
        <div class="loading-message">Loading videos...</div>
      </div>
    </section>    <!-- REPORTS TAB -->
    <section id="reports" class="tab-content">
      <h2>User Reports</h2>
      <div class="filter-box">
        <select id="reportFilter" class="filter-select">
          <option value="all">All Reports</option>
          <option value="pending">Pending</option>
          <option value="reviewed">Reviewed</option>
          <option value="resolved">Resolved</option>
        </select>
      </div>
      <div class="reports-container" id="reportsContainer">
        <div class="loading-message">Loading reports...</div>
      </div>
    </section>    <!-- BLOCKED USERS TAB -->
    <section id="blocked" class="tab-content">
      <h2>Blocked Users</h2>
      <div class="blocked-users-container" id="blockedUsersContainer">
        <div class="loading-message">Loading blocked users...</div>
      </div>
    </section>

    <!-- SETTINGS TAB -->
    <section id="settings" class="tab-content">
      <h2>Admin Settings</h2>
      <div class="settings-panel">
        <div class="setting-item">
          <h3>System Status</h3>
          <p id="systemStatus" class="status-text">System is online</p>
          <button class="setting-btn">View System Logs</button>
        </div>
        <div class="setting-item">
          <h3>Backup Data</h3>
          <p>Export all chat data and user information</p>
          <button class="setting-btn">Download Backup</button>
        </div>
        <div class="setting-item">
          <h3>ğŸ¤– Security Bot</h3>
          <p>Enable or disable the AI security bot for threat detection</p>
          <button id="botToggle" class="setting-btn" style="background: linear-gradient(135deg, #00ff66, #00d4ff); color: #000; font-weight: bold;">ğŸ¤– Toggle Security Bot</button>
          <p id="botStatus" style="color: #00ff66; margin-top: 10px;">Status: <span>Active</span></p>
        </div>
        <div class="setting-item">
          <h3>ğŸ’° Mint Tokens</h3>
          <p>Mint tokens directly to a user's account. Use responsibly.</p>
          <div class="form-group">
            <label>Recipient UID</label>
            <input type="text" id="settingsMintRecipientUID" placeholder="Recipient UID" class="input-field">
          </div>
          <div class="form-group">
            <label>Amount</label>
            <input type="number" id="settingsMintAmount" placeholder="100" min="1" class="input-field">
          </div>
          <div class="form-group">
            <label>Note (optional)</label>
            <input type="text" id="settingsMintNote" placeholder="Reason or note" class="input-field">
          </div>
          <div class="button-group">
            <button id="settingsMintTokensBtn" class="setting-btn success" style="background:#00ff66;color:#000;">ğŸš€ Mint Tokens</button>
          </div>
          <div id="settingsMintResult" style="margin-top:10px; display:none; padding:8px; border-radius:6px;"></div>
        </div>
        <div class="setting-item">
          <h3>Clear Cache</h3>
          <p>Clear application cache and temporary files</p>
          <button class="setting-btn danger">Clear Cache</button>
        </div>
      </div>
    </section>

    <!-- TOKEN MINTING TAB -->
    <section id="tokens" class="tab-content">
      <h2>ğŸ’° Token Minting System</h2>
      <div class="token-minting-container">
        <!-- Send Tokens Form -->
        <div class="minting-section">
          <div class="setting-item">
            <h3>ğŸ’¸ Send Tokens Between Users</h3>
            <p style="color: #888; margin-bottom: 15px;">Transfer tokens from one user to another. Admin verifies transaction.</p>
            
            <div class="form-group">
              <label>From User UID</label>
              <input type="text" id="sendFromUID" placeholder="Sender's UID..." class="input-field">
              <small style="color: #888;">UID of the user sending tokens</small>
            </div>

            <div class="form-group">
              <label>To User UID</label>
              <input type="text" id="sendToUID" placeholder="Recipient's UID..." class="input-field">
              <small style="color: #888;">UID of the user receiving tokens</small>
            </div>

            <div class="form-group">
              <label>Token Amount</label>
              <input type="number" id="sendAmount" placeholder="50" min="1" max="1000000" class="input-field">
              <small style="color: #888;">Number of tokens to send (max 1,000,000)</small>
            </div>

            <div class="form-group">
              <label>Reason/Note (Optional)</label>
              <textarea id="sendNote" placeholder="E.g., Payment for service, Gift, Trade..." rows="2" class="input-field" style="resize: vertical;"></textarea>
              <small style="color: #888;">Internal note for transaction logging</small>
            </div>

            <div class="button-group">
              <button id="sendTokensBtn" class="setting-btn success" style="background:#2196F3;color:#fff;font-weight:bold;">ğŸ’¸ Send Tokens</button>
              <button id="clearSendFormBtn" class="setting-btn" style="background:rgba(255,255,255,0.1);">ğŸ—‘ï¸ Clear</button>
            </div>

            <div id="sendResult" class="mint-result" style="margin-top:15px; display:none; padding:12px; border-radius:6px; border-left: 4px solid #2196F3;"></div>
          </div>
        </div>

        <!-- Mint Tokens Form -->
        <div class="minting-section">
          <div class="setting-item">
            <h3>ğŸš€ Mint Tokens to User</h3>
            <p style="color: #888; margin-bottom: 15px;">Mint new tokens directly to a user's account. Use responsibly.</p>
            
            <div class="form-group">
              <label>Recipient UID</label>
              <input type="text" id="mintRecipientUID" placeholder="Paste recipient UID here..." class="input-field">
              <small style="color: #888;">The unique user ID from Firestore</small>
            </div>

            <div class="form-group">
              <label>Token Amount</label>
              <input type="number" id="mintAmount" placeholder="100" min="1" max="1000000" class="input-field">
              <small style="color: #888;">Number of tokens to mint (max 1,000,000)</small>
            </div>

            <div class="form-group">
              <label>Reason/Note (Optional)</label>
              <textarea id="mintNote" placeholder="E.g., Bonus for event, System maintenance reward, Bug compensation..." rows="2" class="input-field" style="resize: vertical;"></textarea>
              <small style="color: #888;">Internal note for transaction logging</small>
            </div>

            <div class="button-group">
              <button id="mintTokensBtn" class="setting-btn success" style="background:#00ff66;color:#000;font-weight:bold;">ğŸš€ Mint Tokens</button>
              <button id="clearMintFormBtn" class="setting-btn" style="background:rgba(255,255,255,0.1);">ğŸ—‘ï¸ Clear</button>
            </div>

            <div id="mintResult" class="mint-result" style="margin-top:15px; display:none; padding:12px; border-radius:6px; border-left: 4px solid #00ff66;"></div>
          </div>
        </div>

        <!-- Token Statistics -->
        <div class="minting-section">
          <div class="setting-item">
            <h3>ğŸ“Š Token Statistics</h3>
            <div class="stats-grid-small">
              <div class="stat-card-mini">
                <div class="stat-label">Total Minted</div>
                <div class="stat-value-small" id="totalTokensMinted">0</div>
              </div>
              <div class="stat-card-mini">
                <div class="stat-label">Total Transactions</div>
                <div class="stat-value-small" id="totalTokenTxns">0</div>
              </div>
              <div class="stat-card-mini">
                <div class="stat-label">Last Mint</div>
                <div class="stat-value-small" id="lastMintTime">Never</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Transaction History -->
        <div class="minting-section">
          <div class="setting-item">
            <h3>ğŸ“‹ Recent Token Transactions</h3>
            <div class="transaction-filter">
              <select id="txnFilter" class="filter-select" style="max-width: 200px;">
                <option value="all">All Transactions</option>
                <option value="mint">Mint Only</option>
                <option value="transfer">Transfer Only</option>
                <option value="burn">Burn Only</option>
              </select>
            </div>
            <div class="transactions-list" id="transactionsList">
              <div class="loading-message">Loading transactions...</div>
            </div>
          </div>
        </div>

        <!-- User Token Balance Lookup -->
        <div class="minting-section">
          <div class="setting-item">
            <h3>ğŸ” Check User Token Balance</h3>
            <div class="form-group">
              <label>Search by UID or Email</label>
              <div style="display: flex; gap: 10px;">
                <input type="text" id="balanceLookupInput" placeholder="User UID or email..." class="input-field" style="flex: 1;">
                <button id="lookupBalanceBtn" class="search-btn" style="padding: 10px 20px;">ğŸ” Lookup</button>
              </div>
            </div>
            <div id="balanceResult" class="balance-result" style="margin-top: 15px; display: none; padding: 15px; border-radius: 6px; border: 1px solid #00ff66; background: rgba(0, 255, 102, 0.05);"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- MANAGE ADMINS TAB -->
    <section id="admins" class="tab-content">
      <h2>ğŸ‘‘ Manage Administrator Accounts</h2>
      
      <!-- Add New Admin Form -->
      <div class="settings-section">
        <div class="setting-item">
          <h3>â• Create New Admin Account</h3>
          <div class="form-group">
            <label>Admin Email (Gmail)</label>
            <input type="email" id="newAdminEmail" placeholder="admin@gmail.com" class="input-field">
            
            <label>Admin Password (Optional - Generate if empty)</label>
            <input type="password" id="newAdminPassword" placeholder="Leave empty to auto-generate" class="input-field">
            
            <label>Full Name</label>
            <input type="text" id="newAdminName" placeholder="Admin name" class="input-field">
            
            <div class="button-group">
              <button id="generatePasswordBtn" class="setting-btn">ğŸ”‘ Generate Password</button>
              <button id="createAdminBtn" class="setting-btn success">âœ… Create Admin</button>
            </div>
          </div>
          <div id="generatedPassword" class="password-display" style="display: none;">
            <p><strong>Generated Password:</strong></p>
            <div class="password-box">
              <span id="passwordText"></span>
              <button id="copyPasswordBtn" class="copy-btn">ğŸ“‹ Copy</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Existing Admins List -->
      <div class="settings-section">
        <h3>Current Admin Accounts</h3>
        <div id="adminsList" class="admins-list">
          <p>Loading admins...</p>
        </div>
      </div>
    </section>

    <!-- GROUP CHATS TAB -->
    <section id="groupchats" class="tab-content">
      <h2>ğŸ‘¥ Group Chats Management</h2>
      
      <div class="settings-section">
        <div class="setting-item">
          <h3>ğŸ“Š Group Statistics</h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
            <div class="stat-card">
              <div class="stat-icon">ğŸ‘¥</div>
              <div class="stat-info">
                <span class="stat-label">Total Groups</span>
                <span id="totalGroups" class="stat-value">0</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ’¬</div>
              <div class="stat-info">
                <span class="stat-label">Total Group Messages</span>
                <span id="totalGroupMessages" class="stat-value">0</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ“Š</div>
              <div class="stat-info">
                <span class="stat-label">Active Polls</span>
                <span id="totalPolls" class="stat-value">0</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Groups List -->
      <div class="settings-section">
        <h3>All Groups</h3>
        <div style="margin-bottom: 20px;">
          <input type="text" id="groupSearchInput" placeholder="ğŸ” Search groups..." class="input-field">
        </div>
        <div id="groupsList" class="groups-list">
          <p style="text-align: center; color: #888;">Loading groups...</p>
        </div>
      </div>
    </section>

  </main>
</div>

<!-- User Action Modal -->
<div id="userActionModal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>User Actions</h3>
      <button class="close-btn" onclick="document.getElementById('userActionModal').style.display='none'">âœ•</button>
    </div>
    <div class="modal-body">
      <div id="userActionInfo"></div>
      <div class="action-buttons">
        <button id="viewUserBtn" class="action-btn view-btn">ğŸ‘ï¸ View Profile</button>
        <button id="blockUserBtn" class="action-btn warn-btn">ğŸš« Block User</button>
        <button id="unblockUserBtn" class="action-btn success-btn" style="display: none;">âœ… Unblock User</button>
        <button id="deleteUserBtn" class="action-btn danger-btn">ğŸ—‘ï¸ Delete Account</button>
      </div>
    </div>
  </div>
</div>

<!-- Report Details Modal -->
<div id="reportModal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Video Report Details</h3>
      <button class="close-btn" onclick="document.getElementById('reportModal').style.display='none'">âœ•</button>
    </div>
    <div class="modal-body">
      <div id="reportDetails"></div>
      <div class="action-buttons">
        <button id="markResolvedBtn" class="action-btn success-btn">âœ… Mark Resolved</button>
        <button class="action-btn warn-btn" onclick="deleteReportedVideo()">ğŸ—‘ï¸ Delete Video</button>
        <button id="blockReporterBtn" class="action-btn warn-btn">ğŸš« Block Reporter</button>
        <button id="blockReportedBtn" class="action-btn danger-btn">â›” Ban Creator</button>
        <button class="action-btn" onclick="dismissReport()" style="background: rgba(255,255,255,0.08);">â– Dismiss Report</button>
      </div>
    </div>
  </div>
</div>

<!-- Video Action Modal -->
<div id="videoActionModal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Video Actions</h3>
      <button class="close-btn" onclick="document.getElementById('videoActionModal').style.display='none'">âœ•</button>
    </div>
    <div class="modal-body">
      <div id="videoActionInfo"></div>
      <div class="video-preview-container">
        <video id="videoPreview" style="max-width: 300px; max-height: 400px;"></video>
        <img id="thumbnailPreview" style="max-width: 300px; max-height: 400px;">
      </div>
      <div class="action-buttons">
        <button id="viewVideoBtn" class="action-btn view-btn">ğŸ‘ï¸ View Video</button>
        <button id="flagVideoBtn" class="action-btn warn-btn">ğŸš© Flag Content</button>
        <button id="deleteVideoBtn" class="action-btn danger-btn">ğŸ—‘ï¸ Delete Video</button>
        <button id="banVideoCreatorBtn" class="action-btn danger-btn">â›” Ban Creator</button>
      </div>
    </div>
  </div>
</div>

<!-- Notification -->
<div id="adminNotification" class="notification" style="display: none;"></div>

<script type="module" src="admin-dashboard.js"></script>
</body>
</html>